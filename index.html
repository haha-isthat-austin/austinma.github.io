<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Austin Ma — Portfolio</title>

  <!-- Tailwind for quick styling -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 UMD + Babel for JSX-in-browser (quick preview) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-white to-neutral-100 text-neutral-900">
  <div id="root"></div>

  <script type="text/babel">
    const { useEffect, useMemo, useRef, useState } = React;

    function ASCIIAnimationHeader({ frames, fps = 8 }) {
      const [idx, setIdx] = useState(0);
      const timerRef = useRef(null);
      const safe = useMemo(() => (frames?.length ? frames : DEFAULT_FRAMES), [frames]);
      useEffect(() => {
        const ms = 1000 / Math.max(1, fps);
        timerRef.current = setInterval(() => setIdx(i => (i + 1) % safe.length), ms);
        return () => clearInterval(timerRef.current);
      }, [safe, fps]);
      return (
        <div className="w-full overflow-hidden rounded-2xl shadow bg-black/90 text-green-300 border border-green-500/30">
          <pre className="whitespace-pre leading-[0.95] p-4 text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl font-mono select-none">
{`${
` ~~~   ~~~   ~~~   ~~~   ~~~ 
|  \\  |  \\  |  \\  |  \\  |  \\ 
|   \\ |   \\ |   \\ |   \\ |   \\ 
|    
|     *  *  *  *  *   PORTFOLIO  *  *  *  *  *
|    
|   // |   // |   // |   // |   //
|  //  |  //  |  //  |  //  |  //
 ~~~   ~~~   ~~~   ~~~   ~~~`
}`}</pre>
        </div>
      );
    }

    const DEFAULT_FRAMES = []; // using one static frame above for brevity

    const posts = [
      { title:"Designing a Low-Noise ADC Front-End", date:"2025-08-30", tags:["hardware","analog","adc"], excerpt:"Trade-offs between input impedance, anti-aliasing, and source load for a 24-bit ΔΣ front-end.", href:"#"},
      { title:"A Photographer’s Guide to Color Science", date:"2025-07-18", tags:["photo","color","grading"], excerpt:"From sensor CFA to display EOTF: demystifying the pipe and getting reliable skin tones.", href:"#"},
      { title:"STM32 I2C: DMA Pitfalls & Patterns", date:"2025-06-11", tags:["embedded","stm32","i2c"], excerpt:"Hard-won lessons using HAL + DMA for robust, low-jitter peripheral comms.", href:"#"},
      { title:"Bootstrapping a Hydroponic Street Farm", date:"2025-05-22", tags:["farming","startup","hydroponics"], excerpt:"A tactical, numbers-first playbook.", href:"#"},
    ];

    function formatDate(iso){return new Date(iso).toLocaleDateString(undefined,{year:"numeric",month:"short",day:"2-digit"});}

    function Tag({children}){return <span className="text-xs md:text-sm rounded-full border px-2 py-0.5 bg-neutral-100 border-neutral-300">{children}</span>}

    function App(){
      const [q,setQ]=React.useState("");
      const filtered = React.useMemo(()=>{
        const s=q.toLowerCase();
        return s?posts.filter(p=>p.title.toLowerCase().includes(s)||p.excerpt.toLowerCase().includes(s)||p.tags.some(t=>t.toLowerCase().includes(s))):posts;
      },[q]);

      return (
        <div className="max-w-6xl mx-auto px-4 md:px-6 py-8">
          <nav className="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-neutral-200">
            <div className="max-w-6xl mx-auto flex items-center justify-between p-3">
              <a href="#home" className="font-semibold">am.dev</a>
              <div className="flex gap-3 text-sm opacity-80">
                <a href="#blog">Blog</a><a href="#projects">Projects</a><a href="#about">About</a>
              </div>
            </div>
          </nav>

          <section id="home" className="grid md:grid-cols-5 gap-6 py-8">
            <div className="md:col-span-3"><ASCIIAnimationHeader /></div>
            <div className="md:col-span-2">
              <h1 className="text-2xl md:text-3xl font-semibold">Engineer • Media • Systems</h1>
              <p className="mt-2 opacity-80 text-sm md:text-base">Ethical hardware, deep-tech stories, and living knowledge maps.</p>
              <input value={q} onChange={e=>setQ(e.target.value)} placeholder="Search posts, tags…"
                className="mt-3 w-full rounded-2xl border border-neutral-300 px-4 py-2 outline-none focus:ring-2 focus:ring-indigo-500" />
            </div>
          </section>

          <section id="blog" className="pb-8">
            <div className="flex items-end justify-between mb-3">
              <h2 className="text-xl md:text-2xl font-semibold">Latest Writing</h2>
              <a href="#" className="text-sm opacity-80">RSS →</a>
            </div>
            <div className="grid md:grid-cols-2 gap-4">
              {filtered.map(p=>(
                <article key={p.title} className="rounded-2xl border border-neutral-300 p-4 hover:shadow-md transition">
                  <div className="text-xs opacity-60">{formatDate(p.date)}</div>
                  <h3 className="mt-1 text-lg font-semibold"><a href={p.href} className="hover:underline">{p.title}</a></h3>
                  <p className="mt-1 text-sm opacity-80">{p.excerpt}</p>
                  <div className="mt-3 flex gap-2 flex-wrap">{p.tags.map(t=><Tag key={t}>{t}</Tag>)}</div>
                </article>
              ))}
            </div>
          </section>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
  </script>
</body>
</html>
